unit uVisitador;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Data.DB, Data.Win.ADODB, Vcl.ComCtrls,
  Vcl.Grids, Vcl.DBGrids, Vcl.StdCtrls;

type
  TfrmVisitador = class(TForm)
    page: TPageControl;
    TabSheet1: TTabSheet;
    qryVisitador: TADOQuery;
    dbgVis: TDBGrid;
    dtsVisitador: TDataSource;
    tbCadastro: TTabSheet;
    edtLogin: TEdit;
    edtSenha: TEdit;
    cbStatus: TComboBox;
    edtCPF: TEdit;
    edtNome: TEdit;
    cbSupervisor: TComboBox;
    Button1: TButton;
    qryAux: TADOQuery;
    procedure dbgVisDblClick(Sender: TObject);
  private
    { Private declarations }
  public
     idVisitador:string;
     op:string;
     procedure pesquisaPessoa;
     procedure pesquisaSupervisor;
  end;

var
  frmVisitador: TfrmVisitador;

implementation

{$R *.dfm}

uses UMenu;

procedure TfrmVisitador.dbgVisDblClick(Sender: TObject);
begin
      idVisitador:= dbgVis.DataSource.DataSet.FieldByName('idVisitador').AsString;
      page.ActivePage:=tbCadastro;
end;

procedure TfrmVisitador.pesquisaPessoa;
begin
    qryAux.Close;

    with qryAux.SQL do
    begin
      clear;
      add('select * from visitador');
      add('where idVisitador='+idVisitador);
    end;
    qryAux.Open;

    edtLogin.Text:=qryAux.FieldByName('loginVisitador').AsString;
    edtSenha.Text:=qryAux.FieldByName('senhaVisitador').AsString;
    edtCPF.Text:=qryAux.FieldByName('cpfVisitador').AsString;
    edtNome.Text:=qryAux.FieldByName('nomeVisitador').AsString;
    cbStatus.ItemIndex:= qryAux.FieldByName('flAtivo').AsString;
end;

procedure TfrmVisitador.pesquisaSupervisor;
begin

end;

end.
